"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[6342],{"./src/storybook/documentation/form.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Form:()=>Form,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _Form$parameters,_Form$parameters2,_Form$parameters2$doc,_home_kevinmveiga_Documents_repositories_storybook_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-syntax-highlighter/dist/esm/default-highlight.js"),_styles_storybook__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/styles/storybook.ts"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,_home_kevinmveiga_Documents_repositories_storybook_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function FormWithHooks(){return __jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.Vt,null,"Form"),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.uM,null,"Organização"),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.Sh,null,__jsx("li",null,'Os componentes de formulários estão na pasta "src/components/form".')),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.uM,null,"Padrôes"),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.Sh,null,__jsx("li",null,"Se a estrutura dos campos estiver utilizando o componente ",__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.pR,null,"Flex"),", então a configuração do Flex deve ter obrigatoriamente o flex shrink com o valor 1. Ex:",__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.NE,null,'<Flex flex="1 1 auto" ...>'))),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.Sh,null,__jsx("li",null,"Os campos que precisam de formatação no ",__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.pR,null,"POST")," ou no ",__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.pR,null,"GET"),", devem ter seu nome incluído na função ",__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.pR,null,"formDataFormatter"),". Ex:")),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.Bf,null,__jsx(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_3__.Z,{language:"javascript"},"// Função getFormDataFormatter:\n\ncase 'celular' || 'telefone':\n  formDataFormatter[key] = formatData.getPhoneFormatted(formData [key]);\n\n  break;\n\n...\n\n// Função setFormDataFormatter:\n\ncase 'celular' || 'telefone':\n  formDataFormatter[key] = formatData.setPhoneFormatted(formData [key]);\n\n  break;")),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.uM,null,"Componente FormStyled"),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.Sh,null,__jsx("li",null,"Componente de estilo que usa o Unform."),__jsx("li",null,"Propriedades:"),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.NE,null,"- initialData: objeto dos dados iniciais",__jsx("br",null),"- onSubmit: função que executa no momento do submit",__jsx("br",null),"- ref: ref do formulário"),__jsx("li",null,"Exemplo de uso:")),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.Bf,null,__jsx(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_3__.Z,{language:"javascript"},"<FormStyled initialData={initialData} onSubmit={handleSubmit} ref= {formRef}>\n\n...\n\n</FormStyled>")),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.uM,null,"Validação do Form"),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.Sh,null,__jsx("li",null,"É utilizada a biblioteca YUP para fazer a validação dentro do Unform."),__jsx("li",null,"A variável validationSchema é usada para validação nos componentes do formulário e no submit do formulário. Ex:")),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.Bf,null,__jsx(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_3__.Z,{language:"javascript"},"// VALIDATE\nconst validationSchema = yup.object().shape({\n  email: yup.string().email().required(),\n  password: yup.string().min(4).max(20).required()\n});\n\n// FORM\nconst handleSubmit = (formData: any): void => {\n  const submit = async (): Promise<void> => {\n    await validationSchema\n      .validate(formData, {\n        abortEarly: false\n      })\n      .then(() => {\n        postFetch({ fetchData: formData, url: apiUrlAuth })\n          .then((response: Record<string, any>) => {\n              const { data: { message = '', user = {} } = {},  status = 0 } = response;\n\n              if (status === 200) {\n                // Stores user information\n                setStateAuth(JSON.stringify(user));\n\n                // Router redirect\n                router.push(redirectToUrl()).catch(() =>  null);\n              } else {\n                setStateModalMessage({ content: ErrorMessage (message), type: 'error' });\n              }\n          })\n          .catch((error) => {\n            const { response: { data: { message = '' } = {}  } = {} } = error;\n            setStateModalMessage({ content: ErrorMessage (message), type: 'error' });\n          });\n\n        formRef.current?.setErrors({});\n      })\n      .catch((yupError: any) => {\n        if (yupError instanceof yup.ValidationError) {\n          const errorMessages: { [key: string]: any } = {};\n\n          yupError.inner.forEach((item: any) => {\n            errorMessages[item.path] = item.message;\n          });\n\n        formRef.current?.setErrors(errorMessages);\n      }\n    });\n  };\n\n  submit().catch(() => null);\n};\n\n...\n\n<InputEmail\n  idInput=\"login-email\"\n  name=\"email\"\n  placeholder=\"Email address\"\n  tabIndex={1}\n  validationSchema={validationSchema}\n/>")),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.uM,null,"Máscara do Form"),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.Sh,null,__jsx("li",null,"Para usar máscaras é necessário criar um componente de input específico, usando a função de máscara em"," ",__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.pR,null,"handleChange")," e no ",__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.pR,null,"getValue"),". Ex:")),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.Bf,null,__jsx(react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_3__.Z,{language:"javascript"},"export function InputPhone({\n  ...\n\n  // USEEFFECT\n  useEffect(() => {\n    registerField<string>({\n    name: fieldName,\n    ref: inputRef,\n    clearValue: (ref: any) => {\n      const { current } = ref;\n      current.value = '';\n    },\n    getValue: (ref: any) => {\n      const { current } = ref;\n\n      return maskPhone(current.value).cleanValue;\n    },\n    ...\n\n    // FUNCTION\n    const handleChange = (e: any): void => {\n      if (inputRef.current) {\n        try {\n        const { currentTarget: { value = '' } = {} } = e;\n\n        const newValue = maskPhone(value).formattedValue;\n        ...")),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.uM,null,"Referências"),__jsx(_styles_storybook__WEBPACK_IMPORTED_MODULE_2__.Sh,null,__jsx("li",null,"Unform."," ",__jsx("a",{href:"https://unform.dev/",rel:"noopener noreferrer",target:"_blank"},"(link)")),__jsx("li",null,"YUP."," ",__jsx("a",{href:"https://github.com/jquense/yup",rel:"noopener noreferrer",target:"_blank"},"(link)"))))}const __WEBPACK_DEFAULT_EXPORT__={title:"Documentation/Form"};var Form={render:function render(){return __jsx(FormWithHooks,null)}};Form.parameters=_objectSpread(_objectSpread({},Form.parameters),{},{docs:_objectSpread(_objectSpread({},null===(_Form$parameters=Form.parameters)||void 0===_Form$parameters?void 0:_Form$parameters.docs),{},{source:_objectSpread({originalSource:"{\n  render: () => <FormWithHooks />\n}"},null===(_Form$parameters2=Form.parameters)||void 0===_Form$parameters2||null===(_Form$parameters2$doc=_Form$parameters2.docs)||void 0===_Form$parameters2$doc?void 0:_Form$parameters2$doc.source)})})},"./src/styles/storybook.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Bf:()=>BoxDocs,NE:()=>Subtitle2Docs,Sh:()=>ListDocs,Vt:()=>Title1Docs,bM:()=>SpacerDocs,kO:()=>Subtitle1Docs,pR:()=>StrongDocs,uM:()=>Title2Docs,uT:()=>BoxColor});var styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),styled_system__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-system/dist/index.esm.js"),_styles_variable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/styles/variable.ts"),BoxColor=styled_components__WEBPACK_IMPORTED_MODULE_2__.ZP.div.withConfig({componentId:"sc-60e7xr-0"})(["",";",";"," background-color:",";border-color:",";border-radius:",";border-style:solid;border-width:1px;display:flex;",";",";padding:",";",";",";"],styled_system__WEBPACK_IMPORTED_MODULE_0__.GQ,styled_system__WEBPACK_IMPORTED_MODULE_0__.bK,styled_system__WEBPACK_IMPORTED_MODULE_0__.Dh,(function(_ref){var backgroundColor=_ref.backgroundColor,theme=_ref.theme;return backgroundColor||theme.bgColor.tertiary}),(function(_ref2){return _ref2.borderColor||"unset"}),_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.layout.borderRadiusPrimary,(function(_ref3){return void 0===_ref3.height?"height: 50px":void 0}),(function(_ref4){return void 0===_ref4.mb?"margin-bottom: ".concat(_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.space.spacingXS):void 0}),_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.space.spacingSM,(function(_ref5){var rowGap=_ref5.rowGap;return rowGap?"row-gap: ".concat(rowGap):void 0}),(function(_ref6){return void 0===_ref6.width?"width: 100%":void 0})),BoxDocs=styled_components__WEBPACK_IMPORTED_MODULE_2__.ZP.div.withConfig({componentId:"sc-60e7xr-1"})(["",";",";"," background-color:",";border-radius:",";",";display:flex;",";padding:",";",";"],styled_system__WEBPACK_IMPORTED_MODULE_0__.GQ,styled_system__WEBPACK_IMPORTED_MODULE_0__.bK,styled_system__WEBPACK_IMPORTED_MODULE_0__.Dh,(function(_ref7){var backgroundColor=_ref7.backgroundColor,theme=_ref7.theme;return backgroundColor||theme.bgColor.tertiary}),_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.layout.borderRadiusPrimary,(function(_ref8){var columnGap=_ref8.columnGap;return columnGap?"column-gap: ".concat(columnGap):void 0}),(function(_ref9){return void 0===_ref9.mb?"margin-bottom: ".concat(_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.space.spacingMD):void 0}),_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.space.spacingSM,(function(_ref10){var rowGap=_ref10.rowGap;return rowGap?"row-gap: ".concat(rowGap):void 0})),ListDocs=styled_components__WEBPACK_IMPORTED_MODULE_2__.ZP.ul.withConfig({componentId:"sc-60e7xr-2"})(["list-style-type:disc;margin-bottom:",";padding:0 ",";"],_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.space.spacingXS,_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.space.spacingSM),SpacerDocs=styled_components__WEBPACK_IMPORTED_MODULE_2__.ZP.div.withConfig({componentId:"sc-60e7xr-3"})(["",";",";",";"],styled_system__WEBPACK_IMPORTED_MODULE_0__.bK,(function(_ref11){return void 0===_ref11.height?"height: ".concat(_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.space.spacingMD):void 0}),(function(_ref12){return void 0===_ref12.width?"width: ".concat(_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.space.spacingSM):void 0})),StrongDocs=styled_components__WEBPACK_IMPORTED_MODULE_2__.ZP.strong.withConfig({componentId:"sc-60e7xr-4"})(["color:",";font-weight:700;"],_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.color.brandTertiary),Title1Docs=styled_components__WEBPACK_IMPORTED_MODULE_2__.ZP.h1.withConfig({componentId:"sc-60e7xr-5"})(["color:",";",";",";",";@media (min-width:","){",";",";}"],(function(_ref13){return _ref13.color||_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.color.orange}),(function(_ref14){return void 0===_ref14.fontSize?"font-size: 22px":void 0}),(function(_ref15){return void 0===_ref15.fontWeight?"font-weight: ".concat(_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.text.fontWeightBold):void 0}),(function(_ref16){return void 0===_ref16.my?"margin: ".concat(_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.space.spacingSM," 0"):void 0}),_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.breakpoint.md,(function(_ref17){return void 0===_ref17.fontSize?"font-size: 28px":void 0}),(function(_ref18){return void 0===_ref18.my?"margin: ".concat(_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.space.spacingMD," 0"):void 0})),Title2Docs=styled_components__WEBPACK_IMPORTED_MODULE_2__.ZP.h2.withConfig({componentId:"sc-60e7xr-6"})(["color:",";",";",";",";@media (min-width:","){",";}"],(function(_ref19){return _ref19.color||_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.color.blue}),(function(_ref20){return void 0===_ref20.fontSize?"font-size: 16px":void 0}),(function(_ref21){return void 0===_ref21.fontWeight?"font-weight: ".concat(_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.text.fontWeightBold):void 0}),(function(_ref22){return void 0===_ref22.my?"margin: ".concat(_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.space.spacingSM," 0 ").concat(_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.space.spacingXS," 0"):void 0}),_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.breakpoint.md,(function(_ref23){return void 0===_ref23.fontSize?"font-size: 18px":void 0})),Subtitle1Docs=styled_components__WEBPACK_IMPORTED_MODULE_2__.ZP.p.withConfig({componentId:"sc-60e7xr-7"})(["color:",";",";@media (min-width:","){",";}"],(function(_ref24){return _ref24.color||_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.color.brandSecondary}),(function(_ref25){return void 0===_ref25.fontSize?"font-size: 14px":void 0}),_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.breakpoint.md,(function(_ref26){return void 0===_ref26.fontSize?"font-size: 16px":void 0})),Subtitle2Docs=styled_components__WEBPACK_IMPORTED_MODULE_2__.ZP.p.withConfig({componentId:"sc-60e7xr-8"})(["color:",";",";@media (min-width:","){",";}"],(function(_ref27){var color=_ref27.color,theme=_ref27.theme;return color||theme.textColor.secondary}),(function(_ref28){return void 0===_ref28.fontSize?"font-size: 12px":void 0}),_styles_variable__WEBPACK_IMPORTED_MODULE_1__.V.breakpoint.md,(function(_ref29){return void 0===_ref29.fontSize?"font-size: 14px":void 0}))}}]);